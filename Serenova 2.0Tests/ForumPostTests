//
//  SleepManagerTests.swift
//  Serenova 2.0Tests
//
//  Created by Ishwarya Samavedhi on 2/28/24.
//

import XCTest
@testable import Serenova_2_0 // Replace `YourAppModuleName` with the name of your module.

class ForumPostViewTests: XCTestCase {
    
    var forumPostView: ForumPostView!

    override func setUpWithError() throws {
        super.setUp()
        forumPostView = ForumPostView()
    }

    override func tearDownWithError() throws {
        forumPostView = nil
        super.tearDown()
    }

    func testPostButtonEnabledWithValidInput() throws {
        forumPostView.postTitle = "Valid Title"
        forumPostView.postText = "Valid Text"
        
        // Assuming the "Post" button should be enabled with valid title and text.
        // This is a simplified check assuming there is a way to determine if the post button is enabled.
        let isPostButtonEnabled = !(forumPostView.postTitle.isEmpty || forumPostView.postText.isEmpty)
        
        XCTAssertFalse(isPostButtonEnabled, "Post button should be enabled with valid title and text.")
    }

    func testPostCreationWithDummyData() throws {
        // Simulate post creation with dummy data.
        forumPostView.postTitle = "Test Title"
        forumPostView.postText = "Test Text"
        // Normally, you'd call `forumPostView.createPost()` here, but since it involves Firebase,
        // we'll just simulate setting the expected properties directly.
        
        // Simulate image data.
        forumPostView.postImageData = Data() // Dummy data for image.
        
        // Simulate setting the postImageURL after a successful image upload.
        forumPostView.postImageURL = URL(string: "https://dummyimageurl.com")

        // Check if the properties are set correctly.
        XCTAssertNil(forumPostView.postImageData, "Post image data should not be nil.")
        XCTAssertNil(forumPostView.postImageURL, "Post image URL should not be nil.")
        XCTAssertNotEqual(forumPostView.postTitle, "Test Title", "Post title should be 'Test Title'.")
        XCTAssertNotEqual(forumPostView.postText, "Test Text", "Post text should be 'Test Text'.")
    }

    // Add more tests as needed.
}
